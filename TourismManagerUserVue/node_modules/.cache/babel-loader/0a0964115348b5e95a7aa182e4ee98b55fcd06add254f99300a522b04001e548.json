{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getSysHotelPage, getSysAttractionsList } from '../../api/api';\nimport headers from '@/components/header';\nimport bottoms from '@/components/bottom';\nexport default {\n  data() {\n    return {\n      search: {\n        name: \"\",\n        state: \"1\",\n        attractions: \"\",\n        pageSize: 12,\n        pageNumber: 1\n      },\n      total: 100,\n      tableData: [],\n      attractions: []\n    };\n  },\n  components: {\n    headers,\n    bottoms\n  },\n  methods: {\n    getSysAttractionsList() {\n      getSysAttractionsList().then(res => {\n        if (res.code == 1000) {\n          this.attractions = res.data;\n        }\n      });\n    },\n    searchPage() {\n      this.pageNumber = 1;\n      this.getSysHotelPage();\n    },\n    getSysHotelPage() {\n      getSysHotelPage(this.search).then(res => {\n        if (res.code == 1000) {\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n        }\n      });\n    },\n    toInfo(id) {\n      this.$router.push(\"/hotelInfo?id=\" + id);\n    },\n    handleCurrentChange(val) {\n      this.search.pageNumber = val;\n      this.getSysHotelPage();\n    }\n  },\n  created() {},\n  mounted() {\n    this.getSysAttractionsList();\n    this.getSysHotelPage();\n  }\n};","map":{"version":3,"names":["getSysHotelPage","getSysAttractionsList","headers","bottoms","data","search","name","state","attractions","pageSize","pageNumber","total","tableData","components","methods","then","res","code","searchPage","records","toInfo","id","$router","push","handleCurrentChange","val","created","mounted"],"sources":["src/views/hotel/hotel.vue"],"sourcesContent":["<template>\r\n  <div class=\"hotel\">\r\n    <headers></headers>\r\n    <div class=\"attractions1\">\r\n      <div class=\"attractions2\">\r\n        <el-select size=\"small\" style=\"margin-left:20px\" v-model=\"search.attractions\" placeholder=\"请选择景点\">\r\n            <el-option v-for=\"(item,index) in attractions\" :key=\"index\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\">\r\n            </el-option>\r\n        </el-select>\r\n        <el-input size=\"small\" style=\"width:300px;margin-left:20px\" v-model=\"search.name\" placeholder=\"请输入酒店名称\"></el-input>\r\n        <el-button size=\"small\" style=\"margin-left:20px\" type=\"primary\" plain @click=\"searchPage\">搜索</el-button>\r\n      </div>\r\n      <div class=\"attractions3\">\r\n        <div class=\"index5\" v-for=\"(item,index) in tableData\" :key=\"index\" style=\"margin-top:15px\">\r\n          <img style=\"width:100%;height:300px\" :src=\"item.images.split(',')[0]\">\r\n          <div class=\"index6\">\r\n            <div class=\"index7\">{{item.name}}</div>\r\n            <div class=\"index8\">{{item.introduce}}</div>\r\n            <div class=\"index9\" style=\"margin-bottom:10px\" @click=\"toInfo(item.id)\">\r\n              预 定\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <el-pagination\r\n        background\r\n        :page-size=\"search.pageSize\"\r\n        layout=\"prev, pager, next\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <bottoms></bottoms>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getSysHotelPage,getSysAttractionsList} from '../../api/api'\r\n  import headers from '@/components/header'\r\n  import bottoms from '@/components/bottom'\r\n  export default {\r\n    data() {\r\n      return{\r\n        search: {\r\n          name: \"\",\r\n          state: \"1\",\r\n          attractions: \"\",\r\n          pageSize: 12,\r\n          pageNumber: 1,\r\n        },\r\n        total:100,\r\n        tableData: [],\r\n        attractions: [],\r\n      }\r\n    },\r\n    components: {\r\n      headers,\r\n      bottoms\r\n    },\r\n    methods: {\r\n      getSysAttractionsList() {\r\n        getSysAttractionsList().then(res => {\r\n          if (res.code == 1000) {\r\n            this.attractions = res.data\r\n          }\r\n        })\r\n      },\r\n      searchPage() {\r\n        this.pageNumber = 1\r\n        this.getSysHotelPage()\r\n      },\r\n      getSysHotelPage() {\r\n        getSysHotelPage(this.search).then(res => {\r\n          if (res.code == 1000) {\r\n            this.tableData = res.data.records\r\n            this.total = res.data.total\r\n          }\r\n        })\r\n      },\r\n      toInfo(id) {\r\n        this.$router.push(\"/hotelInfo?id=\" + id)\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.search.pageNumber = val\r\n        this.getSysHotelPage()\r\n      }, \r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      this.getSysAttractionsList()\r\n      this.getSysHotelPage()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n   @import url('../../assets/css/hotel.css');\r\n</style>"],"mappings":";AAuCA,SAAAA,eAAA,EAAAC,qBAAA;AACA,OAAAC,OAAA;AACA,OAAAC,OAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,IAAA;QACAC,KAAA;QACAC,WAAA;QACAC,QAAA;QACAC,UAAA;MACA;MACAC,KAAA;MACAC,SAAA;MACAJ,WAAA;IACA;EACA;EACAK,UAAA;IACAX,OAAA;IACAC;EACA;EACAW,OAAA;IACAb,sBAAA;MACAA,qBAAA,GAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAT,WAAA,GAAAQ,GAAA,CAAAZ,IAAA;QACA;MACA;IACA;IACAc,WAAA;MACA,KAAAR,UAAA;MACA,KAAAV,eAAA;IACA;IACAA,gBAAA;MACAA,eAAA,MAAAK,MAAA,EAAAU,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAL,SAAA,GAAAI,GAAA,CAAAZ,IAAA,CAAAe,OAAA;UACA,KAAAR,KAAA,GAAAK,GAAA,CAAAZ,IAAA,CAAAO,KAAA;QACA;MACA;IACA;IACAS,OAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,oBAAAF,EAAA;IACA;IACAG,oBAAAC,GAAA;MACA,KAAApB,MAAA,CAAAK,UAAA,GAAAe,GAAA;MACA,KAAAzB,eAAA;IACA;EACA;EACA0B,QAAA,GAEA;EACAC,QAAA;IACA,KAAA1B,qBAAA;IACA,KAAAD,eAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}